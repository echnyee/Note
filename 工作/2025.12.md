# 5
#系统设计  #分布式 #多进程
## [[分布式]]
# 24
#mongo #数据库
mongo的分批加载，就是batchsize
db.col.find({ score: { $gt: 100 } }).batchSize(100)
这个命令我理解会返回一个流控制器cursor
此时每次获取数据会被batchSize(100)限制，也就是流上限会被限制
MongoCursor<Document> cursor =
    collection.find(gt("score", 100))
              .batchSize(100)
              .iterator();

while (cursor.hasNext()) {
    Document doc = cursor.next();
}
类似这种处理
如果直接find，mongo也会有某种意义的上限，例如单个文档16mb
但这时 client buffer 可能瞬间暴涨
